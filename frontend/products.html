<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Products - Brand</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    .cat-filter-list { list-style:none; padding:0; margin:0; }
    .cat-filter-item { display:flex; align-items:center; gap:8px; padding:10px 12px; border-radius:6px; font-size:13px; color:#555; cursor:pointer; transition:all 0.2s; margin-bottom:3px; border:1px solid transparent; }
    .cat-filter-item:hover  { background:#e8f0fe; color:#0D6EFD; border-color:#c2d4ff; }
    .cat-filter-item.active { background:#0D6EFD; color:#fff; font-weight:600; }
    .cat-filter-item i      { width:18px; text-align:center; flex-shrink:0; }
    .cat-count              { margin-left:auto; font-size:11px; background:rgba(0,0,0,0.1); padding:1px 6px; border-radius:10px; }
    .cat-filter-item.active .cat-count { background:rgba(255,255,255,0.25); }
    .pagination button:disabled { opacity:0.35; cursor:not-allowed; }
    .pagination button:disabled:hover { background:#fff; color:#333; border-color:#ddd; }
  </style>
</head>
<body>

<div class="topbar">
  <div class="container topbar-inner">
    <div class="topbar-left">
      <span><i class="fa fa-phone"></i> +1 234 567 890</span>
      <span><i class="fa fa-envelope"></i> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1b686e6b6b74696f5b79697a757f35787476">[email&#160;protected]</a></span>
    </div>
    <div class="topbar-right">
      <a href="#">Sell on Brand</a>
      <a href="#">Help</a>
      <a href="#"><i class="fa fa-globe"></i> English</a>
    </div>
  </div>
</div>

<header class="navbar">
  <div class="container navbar-inner">
    <div class="logo"><a href="index.html"><i class="fa fa-bolt"></i> <span>Brand</span></a></div>
    <div class="search-bar">
      <select class="category-select" id="navCat">
        <option value="">All Category</option>
        <option value="Electronics">Electronics</option>
        <option value="Gadgets">Gadgets</option>
        <option value="Clothing">Clothing</option>
        <option value="Sports">Sports</option>
        <option value="Home">Home</option>
        <option value="Kitchen">Kitchen</option>
        <option value="Garden">Garden</option>
        <option value="Jewelry">Jewelry</option>
      </select>
      <input type="text" id="searchInput" placeholder="Search for products..."/>
      <button onclick="currentPage=1;applyFilters()"><i class="fa fa-search"></i> Search</button>
    </div>
    <div class="nav-icons">
      <a href="login.html" class="nav-icon"><i class="fa fa-user"></i><span>Profile</span></a>
      <a href="#" class="nav-icon"><i class="fa fa-heart"></i><span>Wishlist</span></a>
      <a href="cart.html" class="nav-icon cart-icon">
        <i class="fa fa-shopping-cart"></i><span>Cart</span>
        <span class="badge" id="cartBadge">0</span>
      </a>
    </div>
    <div class="hamburger" onclick="document.getElementById('navMenu').classList.toggle('open')"><i class="fa fa-bars"></i></div>
  </div>
  <nav class="nav-links" id="navMenu">
    <div class="container">
      <a href="index.html">Home</a>
      <a href="products.html" class="active">Products</a>
      <a href="learn-more.html">Learn More</a>
      <a href="sale.html">Sale</a>
    </div>
  </nav>
</header>

<div class="page-header">
  <div class="container">
    <div class="breadcrumb">
      <a href="index.html">Home</a><span>›</span>
      <span id="breadcrumbCat">All Products</span>
    </div>
  </div>
</div>

<section class="products-page">
  <div class="container products-layout">

    <aside class="filter-panel">
      <div class="filter-group">
        <h3 style="font-size:15px;font-weight:700;color:#2B3445;margin-bottom:12px;">
          <i class="fa fa-list" style="color:#0D6EFD;margin-right:6px;"></i> Categories
        </h3>
        <ul class="cat-filter-list">
          <li class="cat-filter-item active" data-cat="" onclick="selectCat(this,'')">
            <i class="fa fa-border-all"></i> All Products <span class="cat-count" id="cnt-all">46</span>
          </li>
          <li class="cat-filter-item" data-cat="Electronics" onclick="selectCat(this,'Electronics')">
            <i class="fa fa-microchip"></i> Electronics <span class="cat-count" id="cnt-Electronics">8</span>
          </li>
          <li class="cat-filter-item" data-cat="Gadgets" onclick="selectCat(this,'Gadgets')">
            <i class="fa fa-gamepad"></i> Gadgets <span class="cat-count" id="cnt-Gadgets">4</span>
          </li>
          <li class="cat-filter-item" data-cat="Clothing" onclick="selectCat(this,'Clothing')">
            <i class="fa fa-tshirt"></i> Clothes & Apparel <span class="cat-count" id="cnt-Clothing">7</span>
          </li>
          <li class="cat-filter-item" data-cat="Sports" onclick="selectCat(this,'Sports')">
            <i class="fa fa-dumbbell"></i> Sports & Outdoor <span class="cat-count" id="cnt-Sports">6</span>
          </li>
          <li class="cat-filter-item" data-cat="Home" onclick="selectCat(this,'Home')">
            <i class="fa fa-couch"></i> Home & Furniture <span class="cat-count" id="cnt-Home">6</span>
          </li>
          <li class="cat-filter-item" data-cat="Kitchen" onclick="selectCat(this,'Kitchen')">
            <i class="fa fa-blender"></i> Kitchen & Dining <span class="cat-count" id="cnt-Kitchen">8</span>
          </li>
          <li class="cat-filter-item" data-cat="Garden" onclick="selectCat(this,'Garden')">
            <i class="fa fa-leaf"></i> Garden & Outdoor <span class="cat-count" id="cnt-Garden">4</span>
          </li>
          <li class="cat-filter-item" data-cat="Jewelry" onclick="selectCat(this,'Jewelry')">
            <i class="fa fa-gem"></i> Jewelry & Watches <span class="cat-count" id="cnt-Jewelry">3</span>
          </li>
        </ul>
      </div>

      <div class="filter-group">
        <h4>Price Range</h4>
        <p style="font-size:13px;color:#888;margin-bottom:8px;">Up to: $<span id="priceVal">1500</span></p>
        <input type="range" min="10" max="1500" value="1500" class="price-range" id="priceRange"
          oninput="document.getElementById('priceVal').textContent=this.value;currentPage=1;applyFilters()"/>
      </div>

      <div class="filter-group">
        <h4>Rating</h4>
        <label><input type="checkbox" class="ratingCB" value="5" onchange="currentPage=1;applyFilters()"> ★★★★★ 5 stars</label>
        <label><input type="checkbox" class="ratingCB" value="4" onchange="currentPage=1;applyFilters()"> ★★★★☆ 4+ stars</label>
        <label><input type="checkbox" class="ratingCB" value="3" onchange="currentPage=1;applyFilters()"> ★★★☆☆ 3+ stars</label>
      </div>

      <button class="clear-btn" onclick="clearAll()"><i class="fa fa-times"></i> Clear All Filters</button>
    </aside>

    <div class="products-main">
      <div class="products-toolbar">
        <p class="products-count" id="productCount">Loading...</p>
        <select class="sort-select" id="sortSel" onchange="currentPage=1;applyFilters()">
          <option value="">Sort: Default</option>
          <option value="price-low">Price: Low to High</option>
          <option value="price-high">Price: High to Low</option>
          <option value="rating">Best Rating</option>
        </select>
      </div>
      <div class="products-grid" id="productsGrid"></div>
      <div class="pagination" id="pagination"></div>
    </div>

  </div>
</section>

<footer class="footer">
  <div class="container footer-grid">
    <div class="footer-col brand-col">
      <h3><i class="fa fa-bolt"></i> Brand</h3>
      <p>Your one-stop shop for the best products at unbeatable prices.</p>
      <div class="social-links">
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
    <div class="footer-col"><h4>About</h4><ul><li><a href="#">About Us</a></li><li><a href="#">Find Store</a></li></ul></div>
    <div class="footer-col"><h4>For Users</h4><ul><li><a href="login.html">Login</a></li><li><a href="login.html">Register</a></li></ul></div>
  </div>
  <div class="footer-bottom"><p>© 2026 Brand. All rights reserved.</p></div>
</footer>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// ALL PRODUCTS DATA DIRECTLY HERE - NO EXTERNAL FILE NEEDED
var PRODUCTS = [
  // ELECTRONICS — all images match exactly
  {id:0,  name:"Sony WH-1000XM5 Headphones",  brand:"Sony",         category:"Electronics", price:299.99, oldPrice:399.99,  rating:5, reviews:128, img:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=300&q=80",  badge:"NEW"},
  {id:1,  name:"iPhone 15 Pro Max",            brand:"Apple",        category:"Electronics", price:999.99, oldPrice:1199.99, rating:5, reviews:256, img:"https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?w=300&q=80",  badge:"-20%"},
  {id:2,  name:"Canon EOS R50 Camera",         brand:"Canon",        category:"Electronics", price:679.99, oldPrice:null,    rating:4, reviews:89,  img:"https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=300&q=80",  badge:null},
  {id:3,  name:"Dell XPS 15 Laptop",           brand:"Dell",         category:"Electronics", price:1299.99,oldPrice:1499.99, rating:5, reviews:312, img:"https://images.unsplash.com/photo-1593642632559-0c6d3fc62b89?w=300&q=80",  badge:"NEW"},
  {id:4,  name:"Samsung 4K Smart TV 55",       brand:"Samsung",      category:"Electronics", price:849.99, oldPrice:999.99,  rating:4, reviews:167, img:"https://images.unsplash.com/photo-1593784991095-a205069470b6?w=300&q=80",  badge:"-15%"},
  {id:5,  name:"iPad Pro 12.9",                brand:"Apple",        category:"Electronics", price:1099.99,oldPrice:1299.99, rating:5, reviews:389, img:"https://images.unsplash.com/photo-1544244015-0df4b3ffc6b0?w=300&q=80",  badge:"-15%"},
  {id:6,  name:"Bose QuietComfort 45",         brand:"Bose",         category:"Electronics", price:329.99, oldPrice:null,    rating:5, reviews:211, img:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?w=300&q=80",  badge:"NEW"},
  {id:7,  name:"JBL Flip 6 Bluetooth Speaker", brand:"JBL",          category:"Electronics", price:129.99, oldPrice:149.99,  rating:4, reviews:201, img:"https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?w=300&q=80",  badge:null},
  // GADGETS
  {id:8,  name:"Samsung Galaxy Watch 6",       brand:"Samsung",      category:"Gadgets",     price:249.99, oldPrice:299.99,  rating:5, reviews:174, img:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=300&q=80",  badge:"-15%"},
  {id:9,  name:"PlayStation 5 Console",        brand:"Sony",         category:"Gadgets",     price:499.99, oldPrice:null,    rating:5, reviews:543, img:"https://images.unsplash.com/photo-1606813907291-d86efa9b94db?w=300&q=80",  badge:"HOT"},
  {id:10, name:"DJI Mini 3 Drone",             brand:"DJI",          category:"Gadgets",     price:759.99, oldPrice:899.99,  rating:5, reviews:134, img:"https://images.unsplash.com/photo-1473968512647-3e447244af8f?w=300&q=80",  badge:"NEW"},
  {id:11, name:"Logitech MX Master 3 Mouse",   brand:"Logitech",     category:"Gadgets",     price:99.99,  oldPrice:119.99,  rating:5, reviews:289, img:"https://images.unsplash.com/photo-1629429408209-1f912961dbd8?w=300&q=80",  badge:null},
  // CLOTHING
  {id:12, name:"Nike Air Max 270 Sneakers",    brand:"Nike",         category:"Clothing",    price:110.99, oldPrice:139.99,  rating:5, reviews:98,  img:"https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=300&q=80",  badge:null},
  {id:13, name:"Adidas Ultraboost 22",         brand:"Adidas",       category:"Clothing",    price:159.99, oldPrice:189.99,  rating:4, reviews:76,  img:"https://images.unsplash.com/photo-1593287073863-c992914cb3e3?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",  badge:"-15%"},
  {id:14, name:"Levis 501 Original Jeans",     brand:"Levis",        category:"Clothing",    price:69.99,  oldPrice:89.99,   rating:5, reviews:432, img:"https://images.unsplash.com/photo-1542272604-787c3835535d?w=300&q=80",  badge:"-20%"},
  {id:15, name:"Zara Slim Fit Formal Shirt",   brand:"Zara",         category:"Clothing",    price:39.99,  oldPrice:null,    rating:4, reviews:154, img:"https://images.unsplash.com/photo-1596755094514-f87e34085b2c?w=300&q=80",  badge:"NEW"},
  {id:16, name:"H&M Winter Puffer Jacket",     brand:"H&M",          category:"Clothing",    price:89.99,  oldPrice:119.99,  rating:4, reviews:203, img:"https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=300&q=80",  badge:"-25%"},
  {id:17, name:"Under Armour Sports T-Shirt",  brand:"Under Armour", category:"Clothing",    price:34.99,  oldPrice:44.99,   rating:5, reviews:87,  img:"https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=300&q=80",  badge:null},
  {id:18, name:"Ray-Ban Aviator Sunglasses",   brand:"Ray-Ban",      category:"Clothing",    price:154.99, oldPrice:179.99,  rating:5, reviews:321, img:"https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=300&q=80",  badge:"-10%"},
  // SPORTS
  {id:19, name:"Yoga Mat Pro",                 brand:"Decathlon",    category:"Sports",      price:29.99,  oldPrice:39.99,   rating:5, reviews:267, img:"https://images.unsplash.com/photo-1637157216470-d92cd2edb2e8?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",  badge:null},
  {id:20, name:"Tennis Racket Pro",            brand:"Wilson",       category:"Sports",      price:89.99,  oldPrice:109.99,  rating:4, reviews:143, img:"https://plus.unsplash.com/premium_photo-1666913667023-4bfd0f6cff0a?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",  badge:"-20%"},
  {id:21, name:"NBA Size 7 Basketball",        brand:"Spalding",     category:"Sports",      price:49.99,  oldPrice:null,    rating:5, reviews:198, img:"https://images.unsplash.com/photo-1546519638-68e109498ffc?q=80&w=1190&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",  badge:"NEW"},
  {id:22, name:"Adjustable Dumbbells Set",     brand:"Bowflex",      category:"Sports",      price:299.99, oldPrice:399.99,  rating:5, reviews:412, img:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=300&q=80",  badge:"-25%"},
  {id:23, name:"Football Cleats Predator",     brand:"Adidas",       category:"Sports",      price:79.99,  oldPrice:99.99,   rating:4, reviews:156, img:"https://images.unsplash.com/photo-1579952363873-27f3bade9f55?w=300&q=80",  badge:"-20%"},
  {id:24, name:"Road Cycling Helmet",          brand:"Nike",         category:"Sports",      price:59.99,  oldPrice:null,    rating:5, reviews:88,  img:"https://images.unsplash.com/photo-1601971360277-7b4c8aa60894?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",  badge:null},
  // HOME
  {id:25, name:"3-Seater Velvet Sofa",         brand:"IKEA",         category:"Home",        price:599.99, oldPrice:799.99,  rating:5, reviews:234, img:"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=300&q=80",  badge:"-25%"},
  {id:26, name:"L-Shaped Corner Sofa",         brand:"Ashley",       category:"Home",        price:899.99, oldPrice:1099.99, rating:4, reviews:189, img:"https://images.unsplash.com/photo-1493663284031-b7e3aefcae8e?w=300&q=80",  badge:"-18%"},
  {id:27, name:"Wooden Dining Table Set",      brand:"IKEA",         category:"Home",        price:449.99, oldPrice:549.99,  rating:5, reviews:167, img:"https://images.unsplash.com/photo-1617806118233-18e1de247200?w=300&q=80",  badge:"NEW"},
  {id:28, name:"King Size Bed Frame",          brand:"Ashley",       category:"Home",        price:699.99, oldPrice:899.99,  rating:4, reviews:143, img:"https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?w=300&q=80",  badge:"-22%"},
  {id:29, name:"Ergonomic Office Chair",       brand:"Herman Miller",category:"Home",        price:349.99, oldPrice:449.99,  rating:5, reviews:521, img:"https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=300&q=80",  badge:"-20%"},
  {id:30, name:"Scandinavian Bookshelf",       brand:"IKEA",         category:"Home",        price:199.99, oldPrice:null,    rating:2, reviews:98,  img:"https://images.unsplash.com/photo-1594620302200-9a762244a156?w=300&q=80",  badge:null},
  // KITCHEN
  {id:31, name:"KitchenAid Stand Mixer",       brand:"KitchenAid",   category:"Kitchen",     price:379.99, oldPrice:449.99,  rating:5, reviews:678, img:"https://plus.unsplash.com/premium_photo-1718186096324-474ac487bcc3?q=80&w=1139&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",  badge:"-15%"},
  {id:32, name:"Instant Pot Duo 7-in-1",       brand:"Instant Pot",  category:"Kitchen",     price:89.99,  oldPrice:119.99,  rating:5, reviews:943, img:"https://images.unsplash.com/photo-1585515320310-259814833e62?w=300&q=80",  badge:"HOT"},
  {id:33, name:" Air Fryer 5.5L",         brand:"Phillips",        category:"Kitchen",     price:119.99, oldPrice:149.99,  rating:5, reviews:812, img:"https://images.unsplash.com/photo-1695089028114-ce28248f0ab9?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",  badge:"-20%"},
  {id:34, name:"Non-Stick Pan Set 5pc",        brand:"Tefal",        category:"Kitchen",     price:79.99,  oldPrice:99.99,   rating:4, reviews:345, img:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=300&q=80",  badge:"-20%"},
  {id:35, name:"Nespresso Coffee Machine",     brand:"Nespresso",    category:"Kitchen",     price:199.99, oldPrice:249.99,  rating:5, reviews:567, img:"https://plus.unsplash.com/premium_photo-1664189122777-01ad20e7fb9a?q=80&w=686&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",  badge:"-20%"},
  {id:36, name:"Professional Knife Set 15pc",  brand:"Cuisinart",    category:"Kitchen",     price:59.99,  oldPrice:79.99,   rating:4, reviews:289, img:"https://images.unsplash.com/photo-1593618998160-e34014e67546?w=300&q=80",  badge:null},
  {id:37, name:"Philips Hand Blender 800W",    brand:"Philips",      category:"Kitchen",     price:49.99,  oldPrice:64.99,   rating:4, reviews:198, img:"https://images.unsplash.com/photo-1570222094114-d054a817e56b?w=300&q=80",  badge:"-23%"},
  {id:38, name:"Glass Food Storage Set 10pc",  brand:"Pyrex",        category:"Kitchen",     price:34.99,  oldPrice:null,    rating:5, reviews:412, img:"https://images.unsplash.com/photo-1584568694244-14fbdf83bd30?w=300&q=80",  badge:"NEW"},
  // GARDEN
  {id:39, name:"Weber BBQ Gas Grill 3-Burner", brand:"Weber",        category:"Garden",      price:349.99, oldPrice:449.99,  rating:5, reviews:312, img:"https://images.unsplash.com/photo-1504564321107-4aa3efddb5bd?q=80&w=688&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",  badge:"-22%"},
  {id:40, name:"Rattan Garden Chair Set",      brand:"Garden Plus",  category:"Garden",      price:249.99, oldPrice:299.99,  rating:4, reviews:143, img:"https://images.unsplash.com/photo-1600210492493-0946911123ea?w=300&q=80",  badge:"-17%"},
  {id:41, name:"Solar Garden LED Lights 10pc", brand:"Philips",      category:"Garden",      price:29.99,  oldPrice:null,    rating:4, reviews:267, img:"https://images.unsplash.com/photo-1475783006851-1d68dd683eff?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",  badge:"NEW"},
  {id:42, name:"Electric Lawn Mower 1800W",    brand:"Bosch",        category:"Garden",      price:199.99, oldPrice:259.99,  rating:5, reviews:189, img:"https://images.unsplash.com/photo-1690068023694-053da714f95f?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",  badge:"-23%"},
  // JEWELRY
  {id:43, name:"Gold Diamond Pendant Necklace",brand:"Tiffany",      category:"Jewelry",     price:299.99, oldPrice:399.99,  rating:5, reviews:87,  img:"https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=300&q=80",  badge:"-25%"},
  {id:44, name:"Silver Charm Bracelet",        brand:"Pandora",      category:"Jewelry",     price:89.99,  oldPrice:null,    rating:3, reviews:234, img:"https://images.unsplash.com/photo-1619119069152-a2b331eb392a?q=80&w=1171&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D ",  badge:"NEW"},
  {id:45, name:"Pearl Stud Earrings",          brand:"Swarovski",    category:"Jewelry",     price:59.99,  oldPrice:74.99,   rating:1, reviews:156, img:"https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?w=300&q=80",  badge:"-20%"}
];

var activeCat = '';
var currentPage = 1;
var PER_PAGE = 12;

function selectCat(el, cat) {
  activeCat = cat;
  currentPage = 1;
  document.querySelectorAll('.cat-filter-item').forEach(function(li){ li.classList.remove('active'); });
  el.classList.add('active');
  var labels = {'':'All Products','Electronics':'Electronics','Gadgets':'Gadgets','Clothing':'Clothes & Apparel','Sports':'Sports & Outdoor','Home':'Home & Furniture','Kitchen':'Kitchen & Dining','Garden':'Garden & Outdoor','Jewelry':'Jewelry & Watches'};
  document.getElementById('breadcrumbCat').textContent = labels[cat] || cat;
  document.getElementById('navCat').value = cat;
  applyFilters();
}

function applyFilters() {
  var search = document.getElementById('searchInput').value.toLowerCase().trim();
  var maxPrice = parseInt(document.getElementById('priceRange').value);
  var sortVal = document.getElementById('sortSel').value;
  var ratings = [];
  document.querySelectorAll('.ratingCB:checked').forEach(function(c){ ratings.push(parseInt(c.value)); });

  var navCat = document.getElementById('navCat').value;
  if (navCat !== activeCat) {
    activeCat = navCat;
    document.querySelectorAll('.cat-filter-item').forEach(function(li){
      li.classList.toggle('active', li.dataset.cat === navCat);
    });
  }

  var list = PRODUCTS.filter(function(p) {
    if (activeCat !== '' && p.category !== activeCat) return false;
    if (search && p.name.toLowerCase().indexOf(search) === -1 && p.brand.toLowerCase().indexOf(search) === -1) return false;
    if (p.price > maxPrice) return false;
    if (ratings.length > 0 && !ratings.some(function(r){ return p.rating >= r; })) return false;
    return true;
  });

  if (sortVal === 'price-low')  list.sort(function(a,b){ return a.price - b.price; });
  if (sortVal === 'price-high') list.sort(function(a,b){ return b.price - a.price; });
  if (sortVal === 'rating')     list.sort(function(a,b){ return b.rating - a.rating; });

  var total = list.length;
  var totalPages = Math.max(1, Math.ceil(total / PER_PAGE));
  if (currentPage > totalPages) currentPage = 1;
  var start = (currentPage - 1) * PER_PAGE;
  var slice = list.slice(start, start + PER_PAGE);

  document.getElementById('productCount').textContent = total === 0
    ? 'No products found'
    : 'Showing ' + (start+1) + '-' + Math.min(start+PER_PAGE, total) + ' of ' + total + ' products';

  var grid = document.getElementById('productsGrid');
  if (slice.length === 0) {
    grid.innerHTML = '<div style="grid-column:1/-1;text-align:center;padding:60px 0;color:#888;"><i class="fa fa-search" style="font-size:48px;display:block;margin-bottom:16px;opacity:0.3;"></i><h3>No products found</h3><p style="margin-top:8px;">Try a different category or clear filters</p></div>';
  } else {
    grid.innerHTML = slice.map(function(p) {
      return '<div class="product-card" onclick="window.location=\'product-detail.html?id='+p.id+'\'">' +
        '<div class="product-img">' +
        '<img src="'+p.img+'" alt="'+p.name+'" loading="lazy"/>' +
        (p.badge ? '<span class="'+(p.badge.startsWith("-")||p.badge==="HOT"?"badge-sale":"badge-new")+'">'+p.badge+'</span>' : '') +
        '<button class="wishlist-btn" onclick="event.stopPropagation();this.classList.toggle(\'active\')"><i class="fa fa-heart"></i></button>' +
        '</div>' +
        '<div class="product-info">' +
        '<p class="brand">'+p.brand+'</p>' +
        '<h4>'+p.name+'</h4>' +
        '<div class="stars">'+'★'.repeat(p.rating)+'☆'.repeat(5-p.rating)+' <span>('+p.reviews+')</span></div>' +
        '<div class="price"><span class="current">$'+p.price.toFixed(2)+'</span>'+(p.oldPrice?'<span class="old">$'+p.oldPrice.toFixed(2)+'</span>':'')+'</div>' +
        '<button class="add-cart-btn" onclick="event.stopPropagation();addItem('+p.id+',\''+p.name.replace(/'/g,"\\'")+'\',' +p.price+',\''+p.img+'\')"><i class="fa fa-shopping-cart"></i> Add to Cart</button>' +
        '</div></div>';
    }).join('');
  }

  var pag = document.getElementById('pagination');
  if (totalPages <= 1) { pag.innerHTML = ''; return; }
  var html = '<button onclick="changePage('+(currentPage-1)+')" '+(currentPage===1?'disabled':'')+'>&#8249; Prev</button>';
  for (var i = 1; i <= totalPages; i++) {
    html += '<button class="'+(i===currentPage?'active':'')+'" onclick="changePage('+i+')">'+i+'</button>';
  }
  html += '<button onclick="changePage('+(currentPage+1)+')" '+(currentPage===totalPages?'disabled':'')+'>Next &#8250;</button>';
  pag.innerHTML = html;
}

function changePage(p) {
  var filtered = PRODUCTS.filter(function(pr){ return activeCat===''||pr.category===activeCat; });
  var max = Math.ceil(filtered.length / PER_PAGE);
  if (p < 1 || p > max) return;
  currentPage = p;
  applyFilters();
  window.scrollTo({top:250, behavior:'smooth'});
}

function addItem(id, name, price, img) {
  var cart = JSON.parse(localStorage.getItem('cart') || '[]');
  var ex = null;
  for (var i=0; i<cart.length; i++) { if(cart[i].id===id){ex=cart[i];break;} }
  if (ex) ex.qty++;
  else cart.push({id:id,name:name,price:price,img:img,qty:1});
  localStorage.setItem('cart', JSON.stringify(cart));
  updateBadge();
}

function updateBadge() {
  var cart = JSON.parse(localStorage.getItem('cart') || '[]');
  var total = cart.reduce(function(s,i){return s+i.qty;}, 0);
  document.querySelectorAll('#cartBadge').forEach(function(b){ b.textContent = total; });
}

function clearAll() {
  activeCat=''; currentPage=1;
  document.getElementById('searchInput').value='';
  document.getElementById('priceRange').value=1500;
  document.getElementById('priceVal').textContent='1500';
  document.getElementById('navCat').value='';
  document.getElementById('sortSel').value='';
  document.getElementById('breadcrumbCat').textContent='All Products';
  document.querySelectorAll('.cat-filter-item').forEach(function(li){li.classList.remove('active');});
  document.querySelector('.cat-filter-item[data-cat=""]').classList.add('active');
  document.querySelectorAll('.ratingCB').forEach(function(c){c.checked=false;});
  applyFilters();
}

document.getElementById('searchInput').addEventListener('keyup', function(){ currentPage=1; applyFilters(); });

window.addEventListener('DOMContentLoaded', function() {
  updateBadge();
  var cat = new URLSearchParams(window.location.search).get('category') || '';
  if (cat) {
    activeCat = cat;
    document.querySelectorAll('.cat-filter-item').forEach(function(li){
      li.classList.toggle('active', li.dataset.cat === cat);
    });
    document.getElementById('navCat').value = cat;
    var labels = {
      '':'All Products','Electronics':'Electronics','Gadgets':'Gadgets',
      'Clothing':'Clothes & Apparel','Sports':'Sports & Outdoor',
      'Home':'Home & Furniture','Kitchen':'Kitchen & Dining',
      'Garden':'Garden & Outdoor','Jewelry':'Jewelry & Watches'
    };
    document.getElementById('breadcrumbCat').textContent = labels[cat] || cat;
  }
  applyFilters();
});
</script>
</body>
</html>