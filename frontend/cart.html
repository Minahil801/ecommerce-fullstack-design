<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cart - Brand</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
</head>
<body>

<!-- TOP BAR -->
<div class="topbar">
  <div class="container topbar-inner">
    <div class="topbar-left"><span><i class="fa fa-phone"></i> +1 234 567 890</span></div>
    <div class="topbar-right"><a href="#">Help</a><a href="#"><i class="fa fa-globe"></i> English</a></div>
  </div>
</div>

<!-- NAVBAR -->
<header class="navbar">
  <div class="container navbar-inner">
    <div class="logo"><a href="index.html"><i class="fa fa-bolt"></i> <span>Brand</span></a></div>
    <div class="search-bar">
      <select class="category-select"><option>All Category</option><option>Electronics</option></select>
      <input type="text" placeholder="Search for products..."/>
      <button><i class="fa fa-search"></i> Search</button>
    </div>
    <div class="nav-icons">
      <a href="login.html" class="nav-icon"><i class="fa fa-user"></i><span>Profile</span></a>
      <a href="#" class="nav-icon"><i class="fa fa-heart"></i><span>Wishlist</span></a>
      <a href="cart.html" class="nav-icon cart-icon">
        <i class="fa fa-shopping-cart"></i><span>Cart</span>
        <span class="badge" id="cartBadge">0</span>
      </a>
    </div>
    <div class="hamburger" onclick="toggleMenu()"><i class="fa fa-bars"></i></div>
  </div>
  <nav class="nav-links" id="navMenu">
    <div class="container">
      <a href="index.html">Home</a>
      <a href="products.html">Products</a>
      <a href="#">Learn More</a>
    </div>
  </nav>
</header>

<!-- PAGE HEADER -->
<div class="page-header">
  <div class="container">
    <div class="breadcrumb">
      <a href="index.html">Home</a><span>›</span><span>Shopping Cart</span>
    </div>
  </div>
</div>

<!-- CART PAGE -->
<section class="cart-page">
  <div class="container cart-layout">

    <!-- CART ITEMS -->
    <div class="cart-table">
      <h2><i class="fa fa-shopping-cart"></i> Shopping Cart (<span id="itemCount">0</span> items)</h2>
      <div id="cartItemsList">
        <!-- Items rendered by JS -->
      </div>
      <div id="emptyCart" style="display:none; text-align:center; padding:40px 0;">
        <i class="fa fa-shopping-cart" style="font-size:60px;color:#ddd;margin-bottom:16px;display:block;"></i>
        <h3 style="color:#888;margin-bottom:12px;">Your cart is empty</h3>
        <a href="products.html" class="btn-primary" style="display:inline-block;">Browse Products</a>
      </div>
    </div>

    <!-- CART SUMMARY -->
    <div class="cart-summary">
      <h3>Order Summary</h3>
      <div class="summary-row"><span>Subtotal</span><span id="subtotal">$0.00</span></div>
      <div class="summary-row"><span>Shipping</span><span style="color:#28a745">Free</span></div>
      <div class="summary-row"><span>Tax (10%)</span><span id="tax">$0.00</span></div>
      <div class="summary-row total"><span>Total</span><span id="totalPrice">$0.00</span></div>

      <div style="margin-top:16px;">
        <input type="text" placeholder="Coupon code" style="width:100%;border:1.5px solid #ddd;border-radius:6px;padding:10px 12px;font-size:13px;outline:none;margin-bottom:8px;"/>
        <button style="width:100%;background:#f8f9fa;border:1px solid #ddd;padding:9px;border-radius:6px;font-size:13px;cursor:pointer;color:#0D6EFD;font-weight:600;">Apply Coupon</button>
      </div>

      <button class="checkout-btn" onclick="checkout()">
        <i class="fa fa-lock"></i> Proceed to Checkout
      </button>

      <a href="products.html" style="display:block;text-align:center;margin-top:12px;font-size:13px;color:#0D6EFD;">
        ← Continue Shopping
      </a>

      <!-- Payment icons -->
      <div style="display:flex;justify-content:center;gap:10px;margin-top:16px;opacity:0.6;flex-wrap:wrap;">
        <i class="fab fa-cc-visa" style="font-size:28px;color:#1a1f71;"></i>
        <i class="fab fa-cc-mastercard" style="font-size:28px;color:#eb001b;"></i>
        <i class="fab fa-cc-paypal" style="font-size:28px;color:#003087;"></i>
        <i class="fab fa-cc-stripe" style="font-size:28px;color:#6772e5;"></i>
      </div>
    </div>

  </div>
</section>

<!-- FOOTER -->
<footer class="footer">
  <div class="container footer-grid">
    <div class="footer-col brand-col">
      <h3><i class="fa fa-bolt"></i> Brand</h3>
      <p>Your one-stop shop for the best electronics and gadgets.</p>
      <div class="social-links">
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
    <div class="footer-col"><h4>About</h4><ul><li><a href="#">About Us</a></li><li><a href="#">Find Store</a></li></ul></div>
    <div class="footer-col"><h4>For Users</h4><ul><li><a href="login.html">Login</a></li><li><a href="login.html">Register</a></li></ul></div>
  </div>
  <div class="footer-bottom"><p>© 2026 Brand. All rights reserved.</p></div>
</footer>

<script src="app.js"></script>
<script>
  function loadCart() {
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');
    const list = document.getElementById('cartItemsList');
    const empty = document.getElementById('emptyCart');

    if (cart.length === 0) {
      list.style.display = 'none';
      empty.style.display = 'block';
      document.getElementById('itemCount').textContent = '0';
      return;
    }

    list.style.display = 'block';
    empty.style.display = 'none';
    document.getElementById('itemCount').textContent = cart.length;

    list.innerHTML = cart.map((item, i) => `
      <div class="cart-item" id="item-${i}">
        <img src="${item.img}" alt="${item.name}"/>
        <div class="cart-item-info">
          <h4>${item.name}</h4>
          <p>Category: Electronics</p>
          <div style="display:flex;align-items:center;gap:10px;margin-top:8px;">
            <div class="qty-control">
              <button onclick="changeItemQty(${i}, -1)">−</button>
              <span>${item.qty}</span>
              <button onclick="changeItemQty(${i}, 1)">+</button>
            </div>
          </div>
        </div>
        <div class="cart-item-price">
          <div class="price">$${(item.price * item.qty).toFixed(2)}</div>
          <button class="remove-btn" onclick="removeItem(${i})">
            <i class="fa fa-trash"></i> Remove
          </button>
        </div>
      </div>
    `).join('');

    // Calculate totals
    const subtotal = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
    const tax = subtotal * 0.1;
    const total = subtotal + tax;

    document.getElementById('subtotal').textContent = '$' + subtotal.toFixed(2);
    document.getElementById('tax').textContent = '$' + tax.toFixed(2);
    document.getElementById('totalPrice').textContent = '$' + total.toFixed(2);
    updateCartBadge();
  }

  function changeItemQty(index, delta) {
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');
    cart[index].qty = Math.max(1, cart[index].qty + delta);
    localStorage.setItem('cart', JSON.stringify(cart));
    loadCart();
  }

  function removeItem(index) {
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');
    cart.splice(index, 1);
    localStorage.setItem('cart', JSON.stringify(cart));
    loadCart();
  }

  function checkout() {
    const user = localStorage.getItem('user');
    if (!user) {
      alert('Please login to proceed to checkout!');
      window.location.href = 'login.html';
    } else {
      alert('Order placed successfully! Thank you for shopping with Brand!');
      localStorage.removeItem('cart');
      loadCart();
    }
  }

  window.addEventListener('DOMContentLoaded', loadCart);
</script>
<script src="navbar.js"></script>
</body>
</html>
